Сервис **StatisticsService** отвечает за всю статистику (регистрации пользователей, создание постов, комментариев и реакций, сессии активностей пользователей и т.д.), СУБД **Clickhouse**. Имеется 3 таблицы:

1) **Event**: в ней хранятся общие данные о случившимся событии

а) *event_id* - уникальный id события (первичный ключ)

б) *user_id* - id пользователя, который совершин событие (вторичный ключ к user_id в UserInfo)

в) *event_type* - тип события (создание поста, создание комментария, реакция, регистрация, вход, выход и т.д.)

г) *time* - время события

д) *event_data* - данные события (если есть) (например, id реакции)

2) **UserActivity**: в ней хранятся данные об активностях пользователя

а) *user_id* - id пользователя (вторичный ключ к user_id в UserInfo)

б) *last_login_time* - дата и время последнего захода

в) *registered_at* - дата и время регистрации

г) *posts_count* - количество сделанных постов

д) *comments_count* - количество сделанных комментариев

е) *reactions_count* - количество сделанных реакций

ж) *watched_posts_count* - количество просмотренных постов

3) **Session**: законченные сессии пользователя

а) *session_id* - уникальный id сессии (первичный ключ)

б) *user_id* - id пользователя (вторичный ключ к user_id в UserInfo)

в) *login_at* - дата и время входа

г) *logout_at* - дата и время выхода

д) *session_duration* - продолжительность сессии

е) *ip_address* - ip адрес, с которого был вход